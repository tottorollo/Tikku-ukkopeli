<!DOCTYPE html>
<html lang="fi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, height=device-height, initial-scale=1.0, user-scalable=no">
  <title>Tikku-ukkopeli</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
      background: #000;
    }
    #gameCanvas {
      width: 100vw;
      height: 100vh;
      display: block;
      background: #222;
    }

    .rotate-warning {
      position: fixed;
      inset: 0;
      background: #000;
      color: #fff;
      display: none;
      align-items: center;
      justify-content: center;
      text-align: center;
      font-size: 24px;
      padding: 20px;
      z-index: 1000;
    }

    @media (orientation: portrait) {
      #gameCanvas {
        display: none;
      }
      .rotate-warning {
        display: flex;
      }
    }

    /* Isku-animaatio */
    @keyframes hitFlash {
      0%   { background-color: rgba(255, 255, 255, 0.6); }
      50%  { background-color: transparent; }
      100% { background-color: rgba(255, 255, 255, 0.6); }
    }
    .hitFlash {
      animation: hitFlash 0.3s ease;
    }
  </style>
</head>
<body>

<div class="rotate-warning">
  K√§√§nn√§ puhelin **vaaka-asentoon** üí°
</div>

<canvas id="gameCanvas"></canvas>

<script>
  // canvas ja konteksti
  const canvas = document.getElementById('gameCanvas');
  const ctx = canvas.getContext('2d');

  function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  }
  window.addEventListener('resize', resizeCanvas);
  resizeCanvas();

  // yksinkertainen peli-tilanne
  let hitEffectFrames = 0;

  function draw() {
    // tyhjenn√§ n√§ytt√∂
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // (T√§h√§n oma pelisi piirto-logiikka)

    // esimerkki: piirret√§√§n ympyr√§ keskelle
    ctx.fillStyle = '#0f0';
    ctx.beginPath();
    ctx.arc(canvas.width / 2, canvas.height / 2, 40, 0, 2 * Math.PI);
    ctx.fill();

    requestAnimationFrame(draw);
  }

  draw();

  // **isku-animaatio**
  function triggerHitAnimation() {
    canvas.classList.add('hitFlash');
    hitEffectFrames++;
    setTimeout(() => {
      canvas.classList.remove('hitFlash');
    }, 300);
  }

  // Esimerkki: kun klikataan / napautetaan, laukaise isku
  canvas.addEventListener('click', () => {
    triggerHitAnimation();
    // t√§h√§n voit liitt√§√§ oman osu¬≠ma-tarkistuksen
  });

  // Est√§ vieritys pelin√§yt√∂ll√§
  document.body.addEventListener("touchmove", function(e) {
    e.preventDefault();
  }, { passive: false });

</script>

</body>
</html>
